{"version":3,"sources":["Login.js","TopTrack.js","TopArtist.js","DropDownTracks.js","DropDownArtists.js","HomePage.js","useAuth.js","App.js","index.js"],"names":["Login","Container","fluid","className","src","alt","href","class","autoPlay","loop","muted","playsInLine","type","target","rel","TopTrack","track","uri","albumUrl","title","substring","artist","image","name","DropDownMenu","changeSelect","onChange","value","DropDownArtists","handleChangeArtist","spotifyApi","SpotifyWebApi","clientId","HomePage","accessToken","code","useState","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","useEffect","axios","post","then","res","data","window","history","pushState","catch","location","interval","setInterval","clearInterval","useAuth","topTracks","setTopTracks","topArtists","setTopArtists","trackDuration","setTrackDuration","artistsDuration","setArtistsDuration","screenWidth","screen","width","secondTopArtist","slice","map","topArtist","document","addEventListener","tracksExpandBtn","querySelector","e","expandTracksContent","classList","toggle","contains","style","maxHeight","scrollHeight","innerHTML","stopImmediatePropagation","artistsExpandBtn","expandArtistsContent","logoutBtn","logoutLink","open","getMyTopTracks","limit","time_range","body","items","largestAlbumImage","album","images","reduce","largest","height","artists","url","err","console","log","getMyTopArtists","popularity","dropDownTracks","dropDownArtists","URLSearchParams","search","get","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f5000e64.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nconst AUTH_URL =\r\n  \"https://accounts.spotify.com/authorize?client_id=b256d996ac324a3fa6765ae4287a195f&response_type=code&redirect_uri=https://topify-web.herokuapp.com/&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state%20user-read-recently-played%20user-read-playback-state%20user-top-read\";\r\n\r\nconst Login = () => {\r\n  return (\r\n    <Container fluid className=\"login-container\">\r\n      <div className=\"descript\">\r\n        <div className=\"topify-title\">\r\n          <img src=\"./topify-logo.svg\" alt=\"logo-svg\" className=\"topify-logo\" />\r\n          <h1>Topify</h1>\r\n        </div>\r\n        <h3> Find out your most listened Tracks and Artists on Spotify.</h3>\r\n        <a className=\"btn btn-success btn-lg\" href={AUTH_URL}>\r\n          <i class=\"fa fa-spotify\" aria-hidden=\"true\"></i> Connect with Spotify\r\n        </a>\r\n      </div>\r\n      <div className=\"video-container\">\r\n        <div>\r\n          <video autoPlay loop muted playsInLine>\r\n            <source src=\"./Videos/topify.mp4\" type=\"video/mp4\" />\r\n            Sorry, your browser doesn't support embedded videos.\r\n          </video>\r\n        </div>\r\n        <p>\r\n          You can disconnect Topify from your Spotify account{\" \"}\r\n          <a\r\n            href=\"https://www.spotify.com/us/account/apps/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            here\r\n          </a>\r\n        </p>\r\n      </div>\r\n      <footer>Made with ❤ by Hemani</footer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nexport default function TopTrack({ track }) {\r\n  return (\r\n    <div className=\"top-track-card\">\r\n      <a href={track.uri}>\r\n        <img src={track.albumUrl} alt=\"track-cover\" />\r\n      </a>\r\n      <div className=\"title\">{track.title.substring(0, 20)}</div>\r\n      <div className=\"text-mute\">{track.artist}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function TopTrack({ artist }) {\r\n  return (\r\n    <div className=\"top-artist-card\">\r\n      <a href={artist.uri}>\r\n        <img src={artist.image} alt=\"artist\" className=\"top-artist-img\" />\r\n      </a>\r\n      <div className=\"title\">{artist.name}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function DropDownMenu({ changeSelect }) {\r\n  return (\r\n    <div className=\"drop-down-container\" onChange={changeSelect}>\r\n      <select name=\"duration\" className=\"drop-down-tracks\">\r\n        <option value=\"long_term\">all time</option>\r\n        <option value=\"medium_term\">last 6 months</option>\r\n        <option value=\"short_term\">last month</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function DropDownArtists({ handleChangeArtist }) {\r\n  return (\r\n    <div className=\"drop-down-container\" onChange={handleChangeArtist}>\r\n      <select name=\"duration\" className=\"drop-down-artists\">\r\n        <option value=\"short_term\">last month</option>\r\n        <option value=\"long_term\">all time</option>\r\n        <option value=\"medium_term\">last 6 months</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport useAuth from \"./useAuth\";\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\nimport TopTrack from \"./TopTrack\";\r\nimport TopArtist from \"./TopArtist\";\r\nimport DropDownTracks from \"./DropDownTracks\";\r\nimport DropDownArtists from \"./DropDownArtists\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n  clientId: \"b256d996ac324a3fa6765ae4287a195f\",\r\n});\r\n\r\nexport default function HomePage({ code }) {\r\n  const accessToken = useAuth(code);\r\n  const [topTracks, setTopTracks] = useState([]);\r\n  const [topArtists, setTopArtists] = useState([]);\r\n  const [trackDuration, setTrackDuration] = useState(\"long_term\");\r\n  const [artistsDuration, setArtistsDuration] = useState(\"short_term\");\r\n  const screenWidth = window.screen.width;\r\n\r\n  const secondTopArtist = topArtists.slice(0, 1).map((artist) => artist.name);\r\n  const topArtist = topArtists.slice(0, 1).map((artist) => artist.name);\r\n\r\n  //Button Collapse / Expand\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const tracksExpandBtn = document.querySelector(\".expand-btn-tracks\");\r\n    tracksExpandBtn.addEventListener(\"click\", (e) => {\r\n      const expandTracksContent = document.querySelector(\r\n        \".grid-container-tracks\"\r\n      );\r\n\r\n      //stlying on button\r\n      tracksExpandBtn.classList.toggle(\"button-pressed\");\r\n\r\n      if (tracksExpandBtn.classList.contains(\"button-pressed\")) {\r\n        expandTracksContent.style.maxHeight =\r\n          expandTracksContent.scrollHeight + \"px\";\r\n        if (tracksExpandBtn.innerHTML === \"See More\") {\r\n          tracksExpandBtn.innerHTML = \"See Less\";\r\n        }\r\n      } else {\r\n        expandTracksContent.style.maxHeight = 0;\r\n        if (tracksExpandBtn.innerHTML === \"See Less\") {\r\n          tracksExpandBtn.innerHTML = \"See More\";\r\n        }\r\n      }\r\n\r\n      //prevent trigerring click event twice\r\n      e.stopImmediatePropagation();\r\n    });\r\n  });\r\n\r\n  //Button Collapse / Expand\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const artistsExpandBtn = document.querySelector(\".expand-btn-artists\");\r\n    artistsExpandBtn.addEventListener(\"click\", (e) => {\r\n      const expandArtistsContent = document.querySelector(\r\n        \".grid-container-artists\"\r\n      );\r\n      //stlying on button\r\n      artistsExpandBtn.classList.toggle(\"button-pressed\");\r\n\r\n      if (artistsExpandBtn.classList.contains(\"button-pressed\")) {\r\n        expandArtistsContent.style.maxHeight =\r\n          expandArtistsContent.scrollHeight + \"px\";\r\n        if (artistsExpandBtn.innerHTML === \"See More\") {\r\n          artistsExpandBtn.innerHTML = \"See Less\";\r\n        }\r\n      } else {\r\n        expandArtistsContent.style.maxHeight = 0;\r\n        if (artistsExpandBtn.innerHTML === \"See Less\") {\r\n          artistsExpandBtn.innerHTML = \"See More\";\r\n        }\r\n      }\r\n\r\n      //prevent trigerring click event twice\r\n      e.stopImmediatePropagation();\r\n    });\r\n  });\r\n\r\n  //Logout Button\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    const logoutBtn = document.querySelector(\".logout-btn\");\r\n    const logoutLink = document.querySelector(\".logout-btn a\");\r\n\r\n    logoutBtn.addEventListener(\"click\", function (e) {\r\n      logoutBtn.classList.toggle(\"logout-pressed\");\r\n      logoutLink.classList.toggle(\"show-logout\");\r\n\r\n      //prevent trigerring click event twice\r\n      e.stopImmediatePropagation();\r\n    });\r\n\r\n    logoutLink.addEventListener(\"click\", function (e) {\r\n      window.open(\" https://accounts.spotify.com/en/logout\");\r\n      //prevent trigerring click event twice\r\n      e.stopImmediatePropagation();\r\n    });\r\n  });\r\n\r\n  function changeSelect() {\r\n    const dropDownTracks = document.querySelector(\".drop-down-tracks\");\r\n\r\n    if (dropDownTracks.value === \"long_term\") {\r\n      setTrackDuration(\"long_term\");\r\n    } else if (dropDownTracks.value === \"medium_term\") {\r\n      setTrackDuration(\"medium_term\");\r\n    } else if (dropDownTracks.value === \"short_term\") {\r\n      setTrackDuration(\"short_term\");\r\n    }\r\n  }\r\n\r\n  function handleChangeArtist() {\r\n    const dropDownArtists = document.querySelector(\".drop-down-artists\");\r\n\r\n    if (dropDownArtists.value === \"long_term\") {\r\n      setArtistsDuration(\"long_term\");\r\n    } else if (dropDownArtists.value === \"medium_term\") {\r\n      setArtistsDuration(\"medium_term\");\r\n    } else if (dropDownArtists.value === \"short_term\") {\r\n      setArtistsDuration(\"short_term\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n    spotifyApi.setAccessToken(accessToken);\r\n  }, [accessToken]);\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n\r\n    //Making the API Request /* Get a User’s Top Tracks*/\r\n    spotifyApi.getMyTopTracks({ limit: 20, time_range: trackDuration }).then(\r\n      function (data) {\r\n        //data.body.items = my top tracks\r\n        setTopTracks(\r\n          data.body.items.map(function (track) {\r\n            const largestAlbumImage = track.album.images.reduce(function (\r\n              largest,\r\n              image\r\n            ) {\r\n              if (image.height > largest.height) {\r\n                return image;\r\n              } else {\r\n                return largest;\r\n              }\r\n            },\r\n            track.album.images[0]);\r\n\r\n            return {\r\n              artist: track.artists[0].name,\r\n              title: track.name,\r\n              uri: track.uri,\r\n              albumUrl: largestAlbumImage.url,\r\n            };\r\n          })\r\n        );\r\n      },\r\n      function (err) {\r\n        console.log(\"Something went wrong!\", err);\r\n      }\r\n    );\r\n  }, [accessToken, trackDuration]);\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n\r\n    /* Get a User’s Top Artists*/\r\n    spotifyApi.getMyTopArtists({ limit: 20, time_range: artistsDuration }).then(\r\n      function (data) {\r\n        // topArtists = data.body.items;\r\n\r\n        setTopArtists(\r\n          data.body.items.map(function (artist) {\r\n            const largestAlbumImage = artist.images.reduce(function (\r\n              largest,\r\n              image\r\n            ) {\r\n              if (image.height > largest.height) {\r\n                return image;\r\n              } else {\r\n                return largest;\r\n              }\r\n            },\r\n            artist.images[0]);\r\n\r\n            return {\r\n              name: artist.name,\r\n              popularity: artist.popularity,\r\n              uri: artist.uri,\r\n              image: largestAlbumImage.url,\r\n            };\r\n          })\r\n        );\r\n      },\r\n      function (err) {\r\n        console.log(\"Something went wrong!\", err);\r\n      }\r\n    );\r\n  }, [accessToken, artistsDuration]);\r\n\r\n  return (\r\n    <Container fluid className=\"main-container\">\r\n      <h1>\r\n        Your top songs of <DropDownTracks changeSelect={changeSelect} />\r\n      </h1>{\" \"}\r\n      <button type=\"button\" className=\"logout-btn\">\r\n        <a href=\"/login\" className=\"logout-link\">\r\n          Logout\r\n        </a>\r\n        <i class=\"fa fa-chevron-left\"></i>\r\n      </button>\r\n      <div className=\"grid-container\">\r\n        {screenWidth < 660 &&\r\n          screenWidth > 460 &&\r\n          topTracks\r\n            .slice(0, 2)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n        {screenWidth < 860 &&\r\n          screenWidth >= 660 &&\r\n          topTracks\r\n            .slice(0, 3)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n        {screenWidth < 1100 &&\r\n          screenWidth >= 860 &&\r\n          topTracks\r\n            .slice(0, 4)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n        {(screenWidth >= 1100 || screenWidth <= 460) &&\r\n          topTracks\r\n            .slice(0, 5)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n      </div>\r\n      <div className=\" grid-container grid-container-tracks\">\r\n        {screenWidth < 660 &&\r\n          screenWidth > 460 &&\r\n          topTracks\r\n            .slice(2, 21)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n        {screenWidth < 860 &&\r\n          screenWidth >= 660 &&\r\n          topTracks\r\n            .slice(3, 21)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n        {screenWidth < 1100 &&\r\n          screenWidth >= 860 &&\r\n          topTracks\r\n            .slice(4, 21)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n        {(screenWidth >= 1100 || screenWidth <= 460) &&\r\n          topTracks\r\n            .slice(5, 21)\r\n            .map((track) => <TopTrack track={track} key={track.uri} />)}\r\n      </div>\r\n      <div className=\"btn-container\">\r\n        <button type=\"button\" className=\"expand-btn-tracks\">\r\n          See More\r\n        </button>\r\n      </div>\r\n      <h1>\r\n        Your top artists of{\" \"}\r\n        <DropDownArtists handleChangeArtist={handleChangeArtist} />\r\n      </h1>\r\n      <div className=\"grid-container \">\r\n        {screenWidth < 660 &&\r\n          screenWidth > 460 &&\r\n          topArtists\r\n            .slice(0, 1)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n        {screenWidth < 860 &&\r\n          screenWidth >= 660 &&\r\n          topArtists\r\n            .slice(0, 2)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n        {screenWidth < 1100 &&\r\n          screenWidth >= 860 &&\r\n          topArtists\r\n            .slice(0, 3)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n        {(screenWidth >= 1100 || screenWidth <= 460) &&\r\n          topArtists\r\n            .slice(0, 4)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n\r\n        <div className=\"text-container\">\r\n          {artistsDuration === \"medium_term\" && (\r\n            <h3>\r\n              You listen to a lot of\r\n              <strong>{\" \" + topArtist + \" \"}</strong>\r\n            </h3>\r\n          )}\r\n          {artistsDuration === \"long_term\" && (\r\n            <h3>\r\n              Your top artist of all time is\r\n              <strong>{\" \" + topArtist + \" \"}</strong>\r\n            </h3>\r\n          )}\r\n          {artistsDuration === \"short_term\" && (\r\n            <h3>\r\n              You've been listening to a lot of\r\n              <strong>{\" \" + secondTopArtist + \" \"}</strong>\r\n              lately\r\n            </h3>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"grid-container  grid-container-artists\">\r\n        {screenWidth < 660 &&\r\n          screenWidth > 460 &&\r\n          topArtists\r\n            .slice(1, 19)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n        {screenWidth < 860 &&\r\n          screenWidth >= 660 &&\r\n          topArtists\r\n            .slice(2, 19)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n        {screenWidth < 1100 &&\r\n          screenWidth >= 860 &&\r\n          topArtists\r\n            .slice(3, 19)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n        {(screenWidth >= 1100 || screenWidth) < 460 &&\r\n          topArtists\r\n            .slice(4, 19)\r\n            .map((artist) => <TopArtist artist={artist} key={artist.uri} />)}\r\n      </div>\r\n      <div className=\"btn-container\">\r\n        <button type=\"button\" className=\"expand-btn-artists\">\r\n          See More\r\n        </button>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function useAuth(code) {\r\n  const [accessToken, setAccessToken] = useState();\r\n  const [refreshToken, setRefreshToken] = useState();\r\n  const [expiresIn, setExpiresIn] = useState();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"http://localhost:3001/login\", {\r\n        code,\r\n      })\r\n      .then(function (res) {\r\n        setAccessToken(res.data.accessToken);\r\n        setRefreshToken(res.data.refreshToken);\r\n        setExpiresIn(res.data.expiresIn);\r\n\r\n        //remove the code section from the url\r\n        window.history.pushState({}, null, \"/\");\r\n      })\r\n      .catch(() => {\r\n        //catch any errors\r\n        window.location = \"/\";\r\n      });\r\n  }, [code]);\r\n\r\n  useEffect(\r\n    function () {\r\n      if (!refreshToken || !expiresIn) return;\r\n\r\n      const interval = setInterval(() => {\r\n        axios\r\n          .post(\"http://localhost:3001/refresh\", {\r\n            refreshToken,\r\n          })\r\n          .then(function (res) {\r\n            setAccessToken(res.data.accessToken);\r\n            setExpiresIn(res.data.expiresIn);\r\n          })\r\n          .catch(() => {\r\n            window.location = \"/\";\r\n          });\r\n        //one minute before 1 hour\r\n      }, (expiresIn - 60) * 1000);\r\n\r\n      return () => clearInterval(interval);\r\n    },\r\n    [refreshToken, expiresIn]\r\n  );\r\n\r\n  return accessToken;\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport Login from \"./Login\";\nimport HomePage from \"./HomePage\";\n\n//getting the code from the URI\nconst code = new URLSearchParams(window.location.search).get(\"code\");\n\nfunction App() {\n  return code ? (\n    <div>\n      <HomePage code={code} />\n    </div>\n  ) : (\n    <Login />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}